<div class="membership-container">
  <div class="membership-card">
    <!-- Header Section -->
    <div class="card-header">
      <div class="header-icon">
        <i class="fas fa-crown"></i>
      </div>
      <h1 class="card-title">Join Our Elite Club</h1>
      <p class="card-subtitle">Become a member and unlock exclusive benefits</p>
      <div class="benefits-preview">
        <span class="benefit-tag"> Priority Reservations</span>
        <span class="benefit-tag"> Exclusive Deals</span>
        <span class="benefit-tag"> Member Rewards</span>
      </div>
    </div>

    <form (ngSubmit)="onSubmit()" class="membership-form" #membershipForm="ngForm">
      <!-- Personal Information -->
      <div class="form-section">
        <div class="section-header">
          <i class="fas fa-id-card"></i>
          <h3>Identity Details</h3>
        </div>
        <div class="form-grid">
          <div class="input-group">
            <label for="prenom" class="input-label">
              <i class="fas fa-user"></i>
              First Name *
            </label>
            <input type="text" id="prenom" name="prenom" class="modern-input" 
                   [(ngModel)]="user.prenom" 
                   placeholder="Enter your first name" required>
          </div>

          <div class="input-group">
            <label for="nom" class="input-label">
              <i class="fas fa-user-tag"></i>
              Last Name *
            </label>
            <input type="text" id="nom" name="nom" class="modern-input" 
                   [(ngModel)]="user.nom" 
                   placeholder="Enter your last name" required>
          </div>

          <div class="input-group">
            <label for="numeroCIN" class="input-label">
              <i class="fas fa-fingerprint"></i>
              CIN Number *
            </label>
            <input type="text" id="numeroCIN" name="numeroCIN" class="modern-input" 
                   [(ngModel)]="user.numeroCIN" 
                   placeholder="e.g., AB123456" required>
          </div>

          <div class="input-group">
            <label for="age" class="input-label">
              <i class="fas fa-birthday-cake"></i>
              Age *
            </label>
            <input type="number" id="age" name="age" class="modern-input" 
                   [(ngModel)]="user.age" 
                   min="18" max="100" placeholder="18+" required>
          </div>
        </div>
      </div>

      <!-- Contact Information -->
      <div class="form-section">
        <div class="section-header">
          <i class="fas fa-address-book"></i>
          <h3>Contact Information</h3>
        </div>
        <div class="form-grid">
          <div class="input-group">
            <label for="adresseMail" class="input-label">
              <i class="fas fa-envelope"></i>
              Email Address *
            </label>
            <input type="email" id="adresseMail" name="adresseMail" class="modern-input" 
                   [(ngModel)]="user.adresseMail" 
                   placeholder="your.email@example.com" required>
          </div>

          <div class="input-group">
            <label for="numeroTelephone" class="input-label">
              <i class="fas fa-mobile-alt"></i>
              Phone Number *
            </label>
            <input type="tel" id="numeroTelephone" name="numeroTelephone" class="modern-input" 
                   [(ngModel)]="user.numeroTelephone" 
                   placeholder="+212 6XX-XXXXXX" required>
          </div>

          <div class="input-group">
            <label for="codePostal" class="input-label">
              <i class="fas fa-map-marker-alt"></i>
              Postal Code *
            </label>
            <input type="text" id="codePostal" name="codePostal" class="modern-input" 
                   [(ngModel)]="user.codePostal" 
                   placeholder="e.g., 10000" required>
          </div>
        </div>
      </div>

      <!-- Membership Preferences -->
      <div class="form-section">
        <div class="section-header">
          <i class="fas fa-star"></i>
          <h3>Membership Preferences</h3>
        </div>
        
        <div class="preference-group">
          <label class="preference-label">Preferred Car Types</label>
          <div class="tags-grid">
            <label class="tag-option" *ngFor="let carType of carTypes">
              <input type="checkbox" 
                     [value]="carType.value" 
                     [checked]="isCarSelected(carType.value)"
                     (change)="toggleCarPreference(carType.value)">
              <span class="tag" [class.selected]="isCarSelected(carType.value)">
                <i [class]="carType.icon"></i>
                {{carType.label}}
              </span>
            </label>
          </div>
        </div>

        <div class="preference-group">
          <label class="preference-label">Rental Frequency</label>
          <div class="frequency-options">
            <label class="radio-option" *ngFor="let freq of frequencyOptions">
              <input type="radio" 
                     name="frequenceLocation" 
                     [value]="freq.value" 
                     [(ngModel)]="user.frequenceLocation">
              <span class="radio-custom"></span>
              <div class="radio-content">
                <i [class]="freq.icon"></i>
                <span>{{freq.label}}</span>
              </div>
            </label>
          </div>
        </div>
      </div>

      <!-- Account Security -->
      <div class="form-section">
        <div class="section-header">
          <i class="fas fa-shield-alt"></i>
          <h3>Account Security</h3>
        </div>
        <div class="form-grid">
          <div class="input-group">
            <label for="password" class="input-label">
              <i class="fas fa-lock"></i>
              Create Password *
            </label>
            <input type="password" id="password" name="password" class="modern-input" 
                   [(ngModel)]="user.password" 
                   placeholder="Minimum 8 characters" required>
            <div class="password-strength" *ngIf="user.password">
              <div class="strength-bar">
                <div class="strength-fill" 
                     [style.width]="calculatePasswordStrength() + '%'"
                     [style.background]="getPasswordStrengthColor()"></div>
              </div>
              <div class="strength-text">{{ getPasswordStrengthText() }}</div>
            </div>
          </div>

          <div class="input-group">
            <label for="confirmPassword" class="input-label">
              <i class="fas fa-lock"></i>
              Confirm Password *
            </label>
            <input type="password" id="confirmPassword" name="confirmPassword" class="modern-input" 
                   [(ngModel)]="user.confirmPassword" 
                   placeholder="Re-enter your password" required>
            <div class="password-match" *ngIf="user.confirmPassword && user.password !== user.confirmPassword">
              <i class="fas fa-exclamation-triangle"></i>
              Passwords do not match
            </div>
          </div>
        </div>

        <div class="terms-group">
          <label class="terms-checkbox">
            <input type="checkbox" id="acceptTerms" name="acceptTerms" 
                   [(ngModel)]="user.acceptTerms" required>
            <span class="checkmark"></span>
            <span class="terms-text">
              I agree to the <a href="#" class="terms-link">Terms of Service</a> and 
              <a href="#" class="terms-link">Privacy Policy</a>
            </span>
          </label>

          <label class="terms-checkbox">
            <input type="checkbox" id="newsletter" name="newsletter" 
                   [(ngModel)]="user.newsletter">
            <span class="checkmark"></span>
            <span class="terms-text">
              Send me exclusive deals and updates about new luxury vehicles
            </span>
          </label>
        </div>
      </div>

      <!-- Submit Section -->
      <div class="submit-section">
        <button type="submit" class="membership-btn" [class.loading]="false">
          <span class="btn-content">
            <i class="fas fa-crown"></i>
            Become a Member
          </span>
          <span class="btn-subtext">Join our elite community</span>
        </button>
        
        <div class="login-link">
          Already have an account? 
          <a href="/login" class="login-text">Sign In</a>
        </div>
      </div>
    </form>
  </div>
</div>